<!DOCTYPE html>
<html lang="{% block html_lang %}{{DEFAULT_LANG}}{% endblock html_lang %}">
<head>
    <title>{% block title %}{{SITENAME}}{% endblock title %}</title>
    <meta charset="utf-8"/>
    <meta name="generator" content="Pelican (https://getpelican.com)"/>
    <link rel="stylesheet" href="{{SITEURL}}/{{THEME_STATIC_DIR}}/css/{{CSS_FILE}}"/>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    {% if FEED_ALL_ATOM %}
    <link href="{{FEED_DOMAIN}}/{% if FEED_ALL_ATOM_URL %}{{FEED_ALL_ATOM_URL}}{% else %}{{FEED_ALL_ATOM}}{% endif %}" type="application/atom+xml" rel="alternate" title="{{SITENAME}} Full Atom Feed" />
    {% endif %}
    {% if FEED_ALL_RSS %}
    <link href="{{FEED_DOMAIN}}/{% if FEED_ALL_RSS_URL %}{{FEED_ALL_RSS_URL}}{% else %}{{FEED_ALL_RSS}}{% endif %}" type="application/rss+xml" rel="alternate" title="{{SITENAME}} Full RSS Feed" />
    {% endif %}
    {% if FEED_ATOM %}
    <link href="{{FEED_DOMAIN}}/{%if FEED_ATOM_URL %}{{FEED_ATOM_URL}}{% else %}{{FEED_ATOM}}{% endif %}" type="application/atom+xml" rel="alternate" title="{{SITENAME}} Atom Feed" />
    {% endif %}
    {% if FEED_RSS %}
    <link href="{{FEED_DOMAIN}}/{% if FEED_RSS_URL %}{{FEED_RSS_URL}}{% else %}{{FEED_RSS}}{% endif %}" type="application/rss+xml" rel="alternate" title="{{SITENAME}} RSS Feed" />
    {% endif %}
    {% block extra_head %}
    {% endblock %}
</head>

<body>
    <div id="topbar">
        <header>
            <span class="sitename">
                <a href="{{SITEURL}}/">{{SITENAME}}</a>
            </span>
            {% if SITESUBTITLE %}
            <span class="sitesubtitle">{{SITESUBTITLE}}</span>
            {% endif %}
        </header><!-- /#banner -->
    </div>

    <div class="mainrow">
        <div id="navbar">
            <nav>
                <ul>
                {% from 'macros.j2' import resolve_url with context %}
                {% for title, link in MENUITEMS %}
                    <li><a href="{{resolve_url(link)}}">{{title}}</a></li>
                {% endfor %}
                {% if DISPLAY_PAGES_ON_MENU %}
                    {% for p in pages %}
                        <li><a href="{{SITEURL}}/{{p.url}}">{{p.title}}</a></li>
                    {% endfor %}
                {% endif %}
                {% if DISPLAY_CATEGORIES_ON_MENU %}
                    {% for cat, null in categories %}
                    <li><a href="{{SITEURL}}/{{cat.url}}">{{cat}}</a></li>
                    {% endfor %}
                {% endif %}
                </ul>
            </nav><!-- /#menu -->
            {% if FEED_ALL_ATOM or FEED_ALL_RSS %}
                <div class="postfeeds">
                    <img src="{{SITEURL}}/{{THEME_STATIC_DIR}}/images/rss.svg" width="16" height="16"/>
                    {% if FEED_ALL_ATOM %}
                    <a href="{{FEED_DOMAIN}}/{% if FEED_ALL_ATOM_URL %}{{FEED_ALL_ATOM_URL}}{% else %}{{FEED_ALL_ATOM}}{% endif %}">Atom</a>
                    {% endif %}
                    {% if FEED_ALL_ATOM and FEED_ALL_RSS %}
                    ·
                    {% endif %}
                    {% if FEED_ALL_RSS %}
                    <a href="{{FEED_DOMAIN}}/{% if FEED_ALL_RSS_URL %}{{FEED_ALL_RSS_URL}}{% else %}{{FEED_ALL_RSS}}{% endif %}">RSS</a>
                    {% endif %}
                </div>
            {% elif FEED_ATOM or FEED_RSS %}
                <div class="postfeeds">
                    <img src="{{SITEURL}}/{{THEME_STATIC_DIR}}/images/rss.svg" width="16" height="16"/>
                    {% if FEED_ALL_ATOM %}
                    <a href="{{FEED_DOMAIN}}/{% if FEED_ATOM_URL %}{{FEED_ATOM_URL}}{% else %}{{FEED_ATOM}}{% endif %}">Atom</a>
                    {% endif %}
                    {% if FEED_ATOM and FEED_RSS %}
                    ·
                    {% endif %}
                    {% if FEED_RSS %}
                    <a href="{{FEED_DOMAIN}}/{% if FEED_RSS_URL %}{{FEED_RSS_URL}}{% else %}{{FEED_RSS}}{% endif %}">RSS</a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
        <div id="content">
            {% block content %}
            {% endblock %}
        </div>
    </div>

    {% if FOOTER_HTML %}
        <footer id="footer">{{FOOTER_HTML}}</footer>
    {% endif %}
</body>
</html>
