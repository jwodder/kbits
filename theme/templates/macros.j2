{% macro list_articles(article_list) %}
    {% for article in article_list %}
    <article class="hentry">
        <header><h2 class="listing"><a href="{{SITEURL}}/{{article.url}}" rel="bookmark" title="Permalink to {{article.title|striptags}}">{{article.title}}</a></h2></header>
        <footer>
            <time datetime="{{article.date.isoformat()}}">{{article.locale_date}}</time>
            {% if article.modified %}
            <span class="last-updated">(last updated
                <time datetime="{{article.modified.isoformat()}}">{{article.locale_modified}}</time>)
            </span>
            {% endif %}
            {% if SHOW_AUTHOR_IN_LISTINGS %}
            <address class="vcard author">By
                {% for author in article.authors %}
                    {% if LINK_AUTHOR %}
                    <a class="url fn" href="{{SITEURL}}/{{author.url}}">{{author}}</a>
                    {% else %}
                    <span class="fn">{{author}}</span>
                    {% endif %}
                {% endfor %}
            </address>
            {% endif %}
            <div>
                <a href="{{SITEURL}}/{{article.category.url}}">{{article.category}}</a>; 
                {% if article.tags %}
                    {% for tag in article.tags %}<a href="{{SITEURL}}/{{tag.url}}">{{tag}}</a>{{', ' if not loop.last}}{% endfor %}
                {% else %}
                    â€”
                {% endif %}
            </div>
        </footer>
        <div>{{article.summary}}</div>
    </article>
    {% if not loop.last %}
    <hr class="listing-break"/>
    {% endif %}
    {% endfor %}
{% endmacro %}

{% macro resolve_url(url) %}
    {%- if url.startswith(("http://", "https://")) -%}
    {{url}}
    {%- else -%}
    {{SITEURL}}/{{url}}
    {%- endif -%}
{% endmacro %}
